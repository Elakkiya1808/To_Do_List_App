(this.webpackJsonp13tut=this.webpackJsonp13tut||[]).push([[0],{10:function(e,t,c){},12:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),l=c(5),s=c.n(l),r=(c(10),c(4)),i=c(0);const o=e=>{let{title:t}=e;return Object(i.jsx)("header",{children:Object(i.jsxs)("h1",{children:["  ",Object(i.jsx)("img",{src:"to-do6.png",alt:"App Icon",className:"header-icon"}),t]})})};o.defaultProps={title:"To do List"};var d=o;var h=e=>{let{search:t,setSearch:c}=e;return Object(i.jsxs)("form",{className:"searchForm",onSubmit:e=>e.preventDefault(),children:[Object(i.jsx)("label",{htmlFor:"search",children:"Search"}),Object(i.jsx)("input",{id:"search",type:"text",role:"searchbox",placeholder:"Search Items",value:t,onChange:e=>c(e.target.value)})]})},j=c(2);var b=e=>{let{newItem:t,setNewItem:c,handleSubmit:n}=e;const l=Object(a.useRef)();return Object(i.jsxs)("form",{className:"addForm",onSubmit:n,children:[Object(i.jsx)("label",{htmlFor:"addItem",children:"Add Item"}),Object(i.jsx)("input",{autoFocus:!0,ref:l,id:"addItem",type:"text",placeholder:"Add Item",required:!0,value:t,onChange:e=>c(e.target.value)}),Object(i.jsx)("button",{type:"submit","aria-label":"Add Item",onClick:()=>l.current.focus(),children:Object(i.jsx)(j.a,{})})]})};var m=e=>{let{item:t,handleCheck:c,handleDelete:a}=e;return Object(i.jsxs)("li",{className:"item",children:[Object(i.jsx)("input",{type:"checkbox",onChange:()=>c(t.id),checked:t.checked}),Object(i.jsx)("label",{style:t.checked?{textDecoration:"line-through"}:null,onDoubleClick:()=>c(t.id),children:t.item}),Object(i.jsx)(j.b,{onClick:()=>a(t.id),role:"button",tabIndex:"0","aria-label":"Delete ".concat(t.item)})]})};var u=e=>{let{items:t,handleCheck:c,handleDelete:a}=e;return Object(i.jsx)("ul",{children:t.map((e=>Object(i.jsx)(m,{item:e,handleCheck:c,handleDelete:a},e.id)))})};var O=e=>{let{items:t,handleCheck:c,handleDelete:a}=e;return Object(i.jsx)(i.Fragment,{children:t.length?Object(i.jsx)(u,{items:t,handleCheck:c,handleDelete:a}):Object(i.jsx)("p",{style:{marginTop:"2rem"},children:"Your list is empty."})})};var p=e=>{let{length:t}=e;return Object(i.jsx)("footer",{children:Object(i.jsxs)("p",{children:[t," List ",1===t?"item":"items"]})})};var x=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{if(!(await fetch(e,t)).ok)throw Error("Please reload the app")}catch(a){c=a.message}finally{return c}};var f=function(){const e="http://localhost:3500/items",[t,c]=Object(a.useState)([]),[n,l]=Object(a.useState)(""),[s,o]=Object(a.useState)(""),[j,m]=Object(a.useState)(null),[u,f]=Object(a.useState)(!0);return Object(a.useEffect)((()=>{(async()=>{try{const t=await fetch(e);if(!t.ok)throw Error("Did not receive expected data");const a=await t.json();c(a),m(null)}catch(t){m(t.message)}finally{f(!1)}})()}),[]),Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(d,{title:"To do List"}),Object(i.jsx)(b,{newItem:n,setNewItem:l,handleSubmit:a=>{a.preventDefault(),n&&((async a=>{const n={id:t.length?Math.max(...t.map((e=>Number(e.id))))+1:1,checked:!1,item:a},l=[...t,n];c(l);const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},r=await x(e,s);r&&m(r)})(n),l(""))}}),Object(i.jsx)(h,{search:s,setSearch:o}),Object(i.jsxs)("main",{children:[u&&Object(i.jsx)("p",{children:"Loading Items..."}),j&&Object(i.jsx)("p",{style:{color:"red"},children:"Error: ".concat(j)}),!j&&!u&&Object(i.jsx)(O,{items:t.filter((e=>e.item.toLowerCase().includes(s.toLowerCase()))),handleCheck:async a=>{const n=t.map((e=>e.id===a?Object(r.a)(Object(r.a)({},e),{},{checked:!e.checked}):e));c(n);const l=n.filter((e=>e.id===a)),s={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({checked:l[0].checked})},i="".concat(e,"/").concat(a),o=await x(i,s);o&&m(o)},handleDelete:async a=>{const n=t.filter((e=>e.id!==a));c(n);const l="".concat(e,"/").concat(a),s=await x(l,{method:"DELETE"});s&&m(s)}})]}),Object(i.jsx)(p,{length:t.length})]})};s.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(f,{})}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.25659e13.chunk.js.map