(this.webpackJsonp13tut=this.webpackJsonp13tut||[]).push([[0],{10:function(e,t,c){},12:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(5),l=c.n(s),r=(c(10),c(4)),i=c(0);const o=e=>{let{title:t}=e;return Object(i.jsx)("header",{children:Object(i.jsxs)("h1",{children:["  ",Object(i.jsx)("img",{src:"".concat("/To_Do_List_App","/to-do6.png"),alt:"App Icon",className:"header-icon"}),t]})})};o.defaultProps={title:"To do List"};var h=o;var d=e=>{let{search:t,setSearch:c}=e;return Object(i.jsxs)("form",{className:"searchForm",onSubmit:e=>e.preventDefault(),children:[Object(i.jsx)("label",{htmlFor:"search",children:"Search"}),Object(i.jsx)("input",{id:"search",type:"text",role:"searchbox",placeholder:"Search Items",value:t,onChange:e=>c(e.target.value)})]})},j=c(2);var b=e=>{let{newItem:t,setNewItem:c,handleSubmit:a}=e;const s=Object(n.useRef)();return Object(i.jsxs)("form",{className:"addForm",onSubmit:a,children:[Object(i.jsx)("label",{htmlFor:"addItem",children:"Add Item"}),Object(i.jsx)("input",{autoFocus:!0,ref:s,id:"addItem",type:"text",placeholder:"Add Item",required:!0,value:t,onChange:e=>c(e.target.value)}),Object(i.jsx)("button",{type:"submit","aria-label":"Add Item",onClick:()=>s.current.focus(),children:Object(i.jsx)(j.a,{})})]})};var m=e=>{let{item:t,handleCheck:c,handleDelete:n}=e;return Object(i.jsxs)("li",{className:"item",children:[Object(i.jsx)("input",{type:"checkbox",onChange:()=>c(t.id),checked:t.checked}),Object(i.jsx)("label",{style:t.checked?{textDecoration:"line-through"}:null,onDoubleClick:()=>c(t.id),children:t.item}),Object(i.jsx)(j.b,{onClick:()=>n(t.id),role:"button",tabIndex:"0","aria-label":"Delete ".concat(t.item)})]})};var u=e=>{let{items:t,handleCheck:c,handleDelete:n}=e;return Object(i.jsx)("ul",{children:t.map((e=>Object(i.jsx)(m,{item:e,handleCheck:c,handleDelete:n},e.id)))})};var O=e=>{let{items:t,handleCheck:c,handleDelete:n}=e;return Object(i.jsx)(i.Fragment,{children:t.length?Object(i.jsx)(u,{items:t,handleCheck:c,handleDelete:n}):Object(i.jsx)("p",{style:{marginTop:"2rem"},children:"Your list is empty."})})};var p=e=>{let{length:t}=e;return Object(i.jsx)("footer",{children:Object(i.jsxs)("p",{children:[t," List ",1===t?"item":"items"]})})};var x=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{if(!(await fetch(e,t)).ok)throw Error("Please reload the app")}catch(n){c=n.message}finally{return c}};var f=function(){const e="".concat("http://localhost:3500","/items");console.log("Fetching from:",e);const[t,c]=Object(n.useState)([]),[a,s]=Object(n.useState)(""),[l,o]=Object(n.useState)(""),[j,m]=Object(n.useState)(null),[u,f]=Object(n.useState)(!0);return Object(n.useEffect)((()=>{(async()=>{try{const t=await fetch(e);if(!t.ok)throw Error("Did not receive expected data");const n=await t.json();c(n),m(null)}catch(t){m(t.message)}finally{f(!1)}})()}),[e]),Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(h,{title:"To do List"}),Object(i.jsx)(b,{newItem:a,setNewItem:s,handleSubmit:n=>{n.preventDefault(),a&&((async n=>{const a={id:t.length?Math.max(...t.map((e=>Number(e.id))))+1:1,checked:!1,item:n},s=[...t,a];c(s);const l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},r=await x(e,l);r&&m(r)})(a),s(""))}}),Object(i.jsx)(d,{search:l,setSearch:o}),Object(i.jsxs)("main",{children:[u&&Object(i.jsx)("p",{children:"Loading Items..."}),j&&Object(i.jsx)("p",{style:{color:"red"},children:"Error: ".concat(j)}),!j&&!u&&Object(i.jsx)(O,{items:t.filter((e=>e.item.toLowerCase().includes(l.toLowerCase()))),handleCheck:async n=>{const a=t.map((e=>e.id===n?Object(r.a)(Object(r.a)({},e),{},{checked:!e.checked}):e));c(a);const s=a.filter((e=>e.id===n)),l={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({checked:s[0].checked})},i="".concat(e,"/").concat(n),o=await x(i,l);o&&m(o)},handleDelete:async n=>{const a=t.filter((e=>e.id!==n));c(a);const s="".concat(e,"/").concat(n),l=await x(s,{method:"DELETE"});l&&m(l)}})]}),Object(i.jsx)(p,{length:t.length})]})};l.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(f,{})}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.81be1943.chunk.js.map